@for (int row = 1; row <= Height; row++)
{
	for (int col = 1; col <= Width; col++)
	{		
		Location loc = new(row, col);
		
		<div id="@CellId(col, row)" class="@GetCellCssClass?.Invoke(loc)" style="@GetCellStyle?.Invoke(loc)">
			@{ var content = new MarkupString(GetCellContent(loc) ?? string.Empty); }
			@content
		</div>
	}
}

@code {
	[Parameter]
	public int Width { get; set; }

	[Parameter]
	public int Height { get; set; }

	[Parameter]
	public Func<Location, string>? GetCellCssClass { get; set; }

	[Parameter, EditorRequired]
	public Func<Location, string?> GetCellContent { get; set; } = (location) => default;

	[Parameter]
	public Func<Location, string?> GetCellStyle { get; set; } = (location) => default!;

	private string CellId(int column, int row) => $"square-{row}-{column}";
}
